{"version":3,"sources":["common/Enum_State.js","components/Towers.js","components/CloudRain.js","components/Button.js","common/TowDimConverting.js","components/Board.js","components/AboutPage.js","components/Navigation.js","App.js","serviceWorker.js","index.js"],"names":["STATE","START","BEFORE_RAIN","RAINY","RESET","Towers","currentState","this","props","towDimTowers","towersResult","towersRow","length","i","j","value","blockClass","concat","CURENT","push","react_default","a","createElement","className","drawTowers","React","Component","Cloud","state","cloud_class","drops_counter","ButtonFrame","button","onClick","disabled","isValidInput","makeItRain","reset","isValid","TowDimConverting","startArr","weight","height","reduce","b","Math","max","dropSum","tower_model","level","hasBlock","row","checkForLeftWall","checkForRightWall","index","slice","includes","Board","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","input","oneDimTowers","counter_result","handleInputChange","_","bind","assertThisInitialized","drawTowersClickHandler","makeItRainHandler","resetHandler","test","setState","assign","event","refs","inputValidation","split","result","convert","id","CloudRain","defaultValue","ref","type","onChange","Button","components_Towers","AboutPage","href","Header","_React$Component","apply","arguments","inherits","createClass","key","react_router_dom","to","react_router","path","exact","component","App","Navigation_Header","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","src_App_0","document","getElementById","URL","process","origin","addEventListener","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.23650a8d.chunk.js","sourcesContent":["/**\r\n * Holding the state of the application\r\n * @type {{START: number, BEFORE_RAIN: number, RAINY: number, RESET: number}}\r\n */\r\n\r\nexport const STATE = {\r\n    START: 0,\r\n    BEFORE_RAIN: 1,\r\n    RAINY: 2,\r\n    RESET: 3\r\n};","import React from 'react';\r\nimport * as CURENT from '../common/Enum_State'\r\n\r\n/**\r\n * this class should handle with the towers/block presentation\r\n */\r\nclass Towers extends React.Component {\r\n\r\n    drawTowers() {\r\n        let currentState = this.props.currentState,\r\n            towDimTowers = this.props.towDimTowers,\r\n            towersResult = [],\r\n            towersRow = [];\r\n\r\n        /**\r\n         *break in case the in no valid 2dim array to wotk with\r\n         */\r\n        if (!towDimTowers && !towDimTowers.length)\r\n            return;\r\n\r\n        for (let i = 0; i < towDimTowers.length; i++) {\r\n            towersRow = [];\r\n            for (let j = 0; j < towDimTowers[i].length; j++) {\r\n                let value = towDimTowers[i][j],\r\n                    blockClass;\r\n                value ?\r\n                    blockClass = `block ${currentState === CURENT.STATE.RAINY && value === 'x' ? 'water_block' : (value === 'x' ? 'hidden' : '')}` :\r\n                    blockClass = `block non_visible`;\r\n\r\n                towersRow.push(<div className={blockClass}></div>)\r\n\r\n            }\r\n            towersResult.push(<div className=\"blocks_row\">{towersRow}</div>)\r\n        }\r\n        return towersResult;\r\n    }\r\n\r\n    render() {\r\n        let towersResult = this.drawTowers();\r\n        return (\r\n            <div className=\"towers_container\">\r\n                {towersResult}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Towers;\r\n\r\n","import React from 'react';\r\nimport * as CURENT from '../common/Enum_State'\r\n\r\nclass Cloud extends React.Component {\r\n    render() {\r\n        let state = this.props.currentState,\r\n            cloud_class = `cloud_container ${state !== CURENT.STATE.RAINY ? 'hidden' : 'rainy'}`;\r\n\r\n        return (\r\n            <div className={cloud_class}>\r\n                <div className=\"result_count\">\r\n                    {this.props.drops_counter}\r\n                </div>\r\n                <div className='cloud1'/>\r\n                <div className='cloud2'/>\r\n                <div className='cloud3'/>\r\n\r\n                <div className='rain'>\r\n                    <li/>\r\n                    <li/>\r\n                    <li/>\r\n                    <li/>\r\n                    <li/>\r\n                    <li/>\r\n                    <li/>\r\n                    <li/>\r\n                    <li/>\r\n                    <li/>\r\n                </div>\r\n                <div className='thunder-container'>\r\n                    <div className='thunder1'></div>\r\n                    <div className='thunder2'></div>\r\n                    <div className='thunder3'></div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Cloud;\r\n","import React from 'react';\r\nimport * as CURENT from '../common/Enum_State'\r\n\r\nclass ButtonFrame extends React.Component {\r\n    render() {\r\n        let button,\r\n            currentState = this.props.currentState;\r\n        switch (currentState) {\r\n            case CURENT.STATE.START:\r\n                button = (\r\n                    <button className=\"btn   btn-success\" onClick={this.props.drawTowers}\r\n                            disabled={!this.props.isValidInput}>\r\n                        Go\r\n                    </button>\r\n                );\r\n                break;\r\n            case CURENT.STATE.BEFORE_RAIN:\r\n                button = (\r\n                    <button className=\"btn  btn-primary\" onClick={this.props.makeItRain}\r\n                            disabled={!this.props.isValidInput}>\r\n                        Make it Rain\r\n                    </button>\r\n                );\r\n                break;\r\n            case CURENT.STATE.RAINY:\r\n                button = (\r\n                    <button className=\"btn  btn-warning\" onClick={this.props.reset}\r\n                            disabled={!this.props.isValidInput}>\r\n                        Re-Start\r\n                    </button>\r\n                );\r\n                break;\r\n\r\n            default:\r\n                button = (\r\n                    <button className=\"btn btn-primary \" onClick={this.props.reset}\r\n                            disabled={this.props.isValid}>\r\n                        Render\r\n                    </button>\r\n                );\r\n        }\r\n\r\n        return (\r\n            button\r\n        );\r\n    }\r\n}\r\n\r\nexport default ButtonFrame;","/**\r\n * convert 1Dim Array to Towers 2Dim array\r\n * x: present water drop\r\n * 1: block in the building\r\n * 0: no block in the building\r\n * @param startArr\r\n * @returns {{tower_model: Array, dropSum: number}}\r\n */\r\n\r\nexport default class TowDimConverting {\r\n    convert(startArr) {\r\n        let weight = startArr.length,\r\n            height = startArr.reduce(function (a, b) {\r\n                return Math.max(a, b);\r\n            }),\r\n            dropSum = 0;\r\n\r\n        let tower_model = [];\r\n\r\n        for (let i = 0; i < height; i++) {\r\n            let level = [];\r\n            for (let j = 0; j < weight; j++) {\r\n                let hasBlock = (height - (i)) > startArr[j] ? 0 : 1;\r\n                level.push(hasBlock)\r\n            }\r\n            tower_model.push(level)\r\n        }\r\n\r\n        /**\r\n         * calculating the number of water drops between the building\r\n         */\r\n        for (let i = 0; i < height; i++) {\r\n            for (let j = 1; j < weight - 1; j++) {\r\n                let row = tower_model[i];\r\n                if (!row[j] && checkForLeftWall(row, j) && checkForRightWall(row, j)) {\r\n                    row[j] = 'x';\r\n                    dropSum++\r\n                }\r\n            }\r\n        }\r\n\r\n        function checkForLeftWall(row, index) {\r\n            return row.slice(0, index).includes(1);\r\n        }\r\n\r\n        function checkForRightWall(row, index) {\r\n            return row.slice(index + 1, row.length).includes(1);\r\n        }\r\n\r\n        return {tower_model, dropSum};\r\n    }\r\n}","/**\r\n * Board is the main component\r\n */\r\nimport './../style/rain.css';\r\nimport './../style/style.css';\r\nimport React from 'react';\r\nimport Towers from './Towers'\r\nimport Cloud from './CloudRain'\r\nimport Button from './Button'\r\nimport * as _ from 'lodash'\r\nimport TowDimConverting from '../common/TowDimConverting'\r\nimport * as CURENT from '../common/Enum_State'\r\n\r\nclass Board extends React.Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            input: '3-0-3', //default input\r\n            oneDimTowers: [3, 0, 3],\r\n            towDimTowers: [],\r\n            isValid: true, //check for input is valid\r\n            counter_result: 0,\r\n            currentState: CURENT.STATE.START\r\n        };\r\n\r\n        this.handleInputChange = _.debounce(this.handleInputChange.bind(this), 300);\r\n        this.drawTowersClickHandler = this.drawTowersClickHandler.bind(this);\r\n        this.makeItRainHandler = this.makeItRainHandler.bind(this);\r\n        this.resetHandler = this.resetHandler.bind(this);\r\n    }\r\n\r\n    /**\r\n     * check if the input is follow the pattern digit-digit-digit..\r\n     * @param value\r\n     * @returns {boolean}\r\n     */\r\n    inputValidation(value) {\r\n        let inputPattern = /^[1-9]([-]{1}\\d){1,22}$/,\r\n            isValidInput = inputPattern.test(value);\r\n        this.setState(Object.assign({}, this.state, {isValid: isValidInput}));\r\n        return isValidInput;\r\n    }\r\n\r\n    handleInputChange(event) {\r\n        let value = this.refs.input.value,\r\n            isValidInput = this.inputValidation(value);\r\n        if (isValidInput) {\r\n            this.setState(Object.assign({}, this.state, {oneDimTowers: value.split('-')}));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * set the 2Dim Tower array presentation.\r\n     */\r\n    drawTowersClickHandler() {\r\n        let converter = new TowDimConverting(),\r\n            result = converter.convert(this.state.oneDimTowers);\r\n        this.setState(Object.assign({}, this.state, {\r\n            towDimTowers: result.tower_model,\r\n            counter_result: result.dropSum,\r\n            currentState: CURENT.STATE.BEFORE_RAIN\r\n        }));\r\n    }\r\n\r\n    makeItRainHandler() {\r\n        this.setState(Object.assign({}, this.state, {currentState: CURENT.STATE.RAINY}));\r\n    }\r\n\r\n    resetHandler() {\r\n        this.setState(Object.assign({}, this.state, {\r\n            towDimTowers: [],\r\n            input: '',\r\n            counter_result: 0,\r\n            currentState: CURENT.STATE.START\r\n        }));\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id=\"main_container\">\r\n                <div className=\"flexcontainer\">\r\n                    <Cloud drops_counter={this.state.counter_result} currentState={this.state.currentState}/>\r\n                    <input disabled={this.state.currentState} defaultValue={this.state.input} ref='input'\r\n                           className=\"bigitem form-control error\" type=\"text\"\r\n                           onChange={this.handleInputChange}/>\r\n                    <Button\r\n                        isValidInput={this.state.isValid}\r\n                        currentState={this.state.currentState}\r\n                        drawTowers={this.drawTowersClickHandler}\r\n                        makeItRain={this.makeItRainHandler}\r\n                        reset={this.resetHandler}\r\n                    />\r\n                </div>\r\n                <div className=\"colored_container flexcontainer\">\r\n                    <Towers currentState={this.state.currentState} towDimTowers={this.state.towDimTowers}/>\r\n                </div>\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default Board;","/**\r\n * Static Page for About Page\r\n */\r\nimport React from 'react';\r\n\r\nconst AboutPage = () => (\r\n    <div className=\"container aboutPage\">\r\n        <div className=\"row\">\r\n            <div className=\"col-lg-12\">\r\n                <h1 className=\"page-header\">Introduction</h1>\r\n                <p>* built with react cli </p>\r\n                <p>* Solution and Simulation for twitter waterflow problem </p>\r\n                <p>* you can find a efficient solution \"src/solution/solution.js\", but it didn’t fit the visualization.\r\n                    You can find .</p>\r\n            </div>\r\n            <div className=\"col-12 content\">\r\n                <h1 className=\"page-header\">Assumptions</h1>\r\n                <p>* The height of each building cannot be more than 9 floors (just for the visualization).</p>\r\n                <p>• The input must be ‘digit-digit-digit……..’. first digit cannot be ‘0’(because there is no meaning to\r\n                    this height in the visualization).</p>\r\n            </div>\r\n            <div className=\"col-12 content\">\r\n                <h1 className=\"page-header\">Resources</h1>\r\n                <p><a href=\"http://codepen.io/Toni47/pen/dbrIG\">Rain simulation</a></p>\r\n                <p><a href=\"https://app.pluralsight.com/library/courses/react-js-getting-started/table-of-contents\">Pluralsight\r\n                    React Getting Started</a></p>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n);\r\nexport default AboutPage;\r\n","import React from 'react';\r\nimport {BrowserRouter as Router, Link, Route} from 'react-router-dom';\r\nimport Board from \"./Board\";\r\nimport AboutPage from \"./AboutPage\";\r\n\r\nexport class Header extends React.Component {\r\n    render() {\r\n        return (\r\n            <Router>\r\n                <div>\r\n                    <nav className=\"navbar navbar-toggleable-md navbar-inverse\">\r\n                        <a className=\"navbar-brand\" href=\"/\">waterflow-problem</a>\r\n                        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\r\n                            <ul className=\"navbar-nav\">\r\n                                <li className=\"nav-item \">\r\n                                    <Link className=\"nav-link\" to=\"/\">Home</Link>\r\n                                </li>\r\n                                <li className=\"nav-item\">\r\n                                    <Link className=\"nav-link\" to=\"/about\">About</Link>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </nav>\r\n\r\n                    <Route path=\"/\" exact component={Board}/>\r\n                    <Route path=\"/about/\" component={AboutPage}/>\r\n                </div>\r\n            </Router>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\nimport './App.css';\n\nimport {Header} from \"./components/Navigation\";\n\nclass App extends Component {\n    render() {\n        return (\n            <div>\n                <Header/>\n            </div>\n        );\n    }\n}\n\nexport default App;\n\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit https://bit.ly/CRA-PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl, config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch(error => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n        .then(response => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then(registration => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            );\n        });\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom'\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n    <BrowserRouter>\n        <App/>\n    </BrowserRouter>,\n    document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}